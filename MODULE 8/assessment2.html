<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Form</title>
    <style>
        .container {
            width: 50%;
            margin: auto;
            border: 2px solid black;
            padding: 20px;
            box-shadow: 5px 10px 18px #888888;
            border-radius: 10px;
            background-color: #f2f2f2;
        }
        input, textarea {
            margin: 10px;
            padding: 5px;
            width: 70%;
        }
        input[type="submit"] {
            width: 30%;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 35%;
        }
    </style>
</head>
<body>
    <div class="container">
        <form onsubmit="return handleSubmit(event)">
            Name: <input type="text" name="name" id="name"><br>
            Phone Number: <input type="number" name="phone" id="phone"><br>
            Email: <input type="email" name="email" id="email"><br>
            Address: <textarea name="address" id="address"></textarea><br>
            Aadhar Number: <input type="number" name="aadhar" id="aadhar"><br>
            Check-in date: <input type="date" name="checkin" id="checkin"><br>
            Check-out date: <input type="date" name="checkout" id="checkout"><br>
            No. of adults: <input type="number" name="adults" id="adults"><br>
            Purpose of visit: <textarea name="purpose" id="purpose"></textarea><br>
            <input type="submit" value="Submit">
        </form>
    </div>

    <script>
        function handleSubmit(event) {
            if (!validateForm()) return false; // Stop if validation fails
            
            saveToLocalStorage();
            showMessage();
            event.preventDefault(); // Prevent page refresh
            return false;
        }

        function validateForm() {
            let name = document.getElementById('name').value.trim();
            let phone = document.getElementById('phone').value.trim();
            let email = document.getElementById('email').value.trim();
            let aadhar = document.getElementById('aadhar').value.trim();

            if (name === "") {
                alert("Name can't be blank");
                return false;
            }
            if (phone === "" || phone.length !== 10) {
                alert("Please enter a valid 10-digit phone number");
                return false;
            }
            if (email === "") {
                alert("Email can't be blank");
                return false;
            }
            if (aadhar === "" || aadhar.length !== 12) {
                alert("Please enter a valid 12-digit Aadhar number");
                return false;
            }
            return true;
        }

        function saveToLocalStorage() {
            let bookingDetails = {
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                address: document.getElementById('address').value,
                aadhar: document.getElementById('aadhar').value,
                checkin: document.getElementById('checkin').value,
                checkout: document.getElementById('checkout').value,
                adults: document.getElementById('adults').value,
                purpose: document.getElementById('purpose').value,
            };

            localStorage.setItem('bookingDetails', JSON.stringify(bookingDetails));
            console.log(localStorage.getItem('bookingDetails')); // for checking in console
        }

        function showMessage() {
            alert("Form submitted successfully!");
        }
    </script>
</body>
</html>
